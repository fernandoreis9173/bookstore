<navbar></navbar>
<sidebar></sidebar>


<div  class="container-base">
  <!-- financeiro.component.html -->
<div class="financeiro-form">
  <form (submit)="enviar()">
    <div class="form-group">
      <label for="dataInicial">Data Inicial:</label>
      <input
        type="date"
        id="dataInicial"
        name="dataInicial"
        class="form-control"
        [(ngModel)]="dataInicial"
        required
      />
    </div>

    <div class="form-group">
      <label for="dataFinal">Data Final:</label>
      <input
        type="date"
        id="dataFinal"
        name="dataFinal"
        class="form-control"
        [(ngModel)]="dataFinal"
        required
      />
    </div>

    <button type="submit" class="btn btn-primary">Buscar</button>
  </form>
</div>

<div *ngIf="receitaTotal || despesasTotal || lucroLiquido || receitaDiariaTotal || receitaSemanalTotal || receitaAnualTotal">
  <h3>Resumo Financeiro</h3>

  <button (click)="downloadTabela()" class="btn btn-success mb-2">üì• Baixar Tabela</button>

  <table class="table table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>Descri√ß√£o</th>
        <th>Valor (R$)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Receita Total</strong></td>
        <td>{{ receitaTotal }}</td>
      </tr>
      <tr>
        <td><strong>Despesas Total</strong></td>
        <td>{{ despesasTotal }}</td>
      </tr>
      <tr>
        <td><strong>Lucro L√≠quido</strong></td>
        <td>{{ lucroLiquido }}</td>
      </tr>
      <tr>
        <td colspan="2" class="text-center table-primary"><strong>Receitas por Per√≠odo</strong></td>
      </tr>
      <tr>
        <td><strong>Receita Di√°ria Total</strong></td>
        <td>{{ receitaDiariaTotal }}</td>
      </tr>
      <tr>
        <td><strong>Receita Semanal Total</strong></td>
        <td>{{ receitaSemanalTotal }}</td>
      </tr>
      <tr>
        <td><strong>Receita Anual Total</strong></td>
        <td>{{ receitaAnualTotal }}</td>
      </tr>
    </tbody>
  </table>
</div>
</div>
